{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DAN\\\\Desktop\\\\fullProject\\\\frontend-react\\\\frontend-react\\\\src\\\\components\\\\MapsPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { listAreas } from \"../api/areas\";\nimport { updateAreaMap } from \"../api/maps\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapsPanel() {\n  _s();\n  const [areas, setAreas] = useState([]);\n  const [selected, setSelected] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [preview, setPreview] = useState(\"\");\n  useEffect(() => {\n    (async () => {\n      const data = await listAreas();\n      const list = Array.isArray(data) ? data : (data === null || data === void 0 ? void 0 : data.data) || [];\n      setAreas(list);\n      if (list[0]) {\n        setSelected(list[0].id);\n        setPreview(list[0].image_url || \"\");\n      }\n    })();\n  }, []);\n  const onChangeArea = id => {\n    setSelected(id);\n    const a = areas.find(x => x.id === Number(id));\n    setPreview((a === null || a === void 0 ? void 0 : a.image_url) || \"\");\n    setUrl((a === null || a === void 0 ? void 0 : a.image_url) || \"\");\n  };\n  const onSave = async () => {\n    if (!selected) return;\n    await updateAreaMap(selected, url.trim());\n    const updated = areas.map(a => a.id === Number(selected) ? {\n      ...a,\n      image_url: url.trim()\n    } : a);\n    setAreas(updated);\n    setPreview(url.trim());\n    alert(\"המפה עודכנה\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"panel\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 0\n      },\n      children: \"\\u05DE\\u05E4\\u05D5\\u05EA \\u05D4\\u05E7\\u05DE\\u05E4\\u05D5\\u05E1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"input\",\n        value: selected,\n        onChange: e => onChangeArea(e.target.value),\n        children: areas.map(a => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: a.id,\n          children: a.name\n        }, a.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 27\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"\\u05E7\\u05D9\\u05E9\\u05D5\\u05E8 \\u05DC\\u05EA\\u05DE\\u05D5\\u05E0\\u05D4 (image URL)\",\n        value: url,\n        onChange: e => setUrl(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-small\",\n        onClick: onSave,\n        children: \"\\u05E9\\u05DE\\u05D5\\u05E8 \\u05DE\\u05E4\\u05D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), preview ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid var(--border)\",\n        borderRadius: 12,\n        overflow: \"hidden\",\n        boxShadow: \"var(--shadow)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview,\n        alt: \"map\",\n        style: {\n          width: \"100%\",\n          display: \"block\",\n          maxHeight: 520,\n          objectFit: \"contain\",\n          background: \"#0a1224\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        opacity: .8\n      },\n      children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E4\\u05D4 \\u05DC\\u05D0\\u05D6\\u05D5\\u05E8 \\u05D6\\u05D4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(MapsPanel, \"j8huxEGcd7UlCsUBa8r/Ov2w+Gg=\");\n_c = MapsPanel;\nvar _c;\n$RefreshReg$(_c, \"MapsPanel\");","map":{"version":3,"names":["React","useEffect","useState","listAreas","updateAreaMap","jsxDEV","_jsxDEV","MapsPanel","_s","areas","setAreas","selected","setSelected","url","setUrl","preview","setPreview","data","list","Array","isArray","id","image_url","onChangeArea","a","find","x","Number","onSave","trim","updated","map","alert","className","dir","children","style","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","value","onChange","e","target","name","placeholder","onClick","border","borderRadius","overflow","boxShadow","src","alt","width","display","maxHeight","objectFit","background","opacity","_c","$RefreshReg$"],"sources":["C:/Users/DAN/Desktop/fullProject/frontend-react/frontend-react/src/components/MapsPanel.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { listAreas } from \"../api/areas\";\r\nimport { updateAreaMap } from \"../api/maps\";\r\n\r\nexport default function MapsPanel() {\r\n  const [areas, setAreas] = useState([]);\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const [preview, setPreview] = useState(\"\");\r\n\r\n  useEffect(()=>{\r\n    (async()=>{\r\n      const data = await listAreas();\r\n      const list = Array.isArray(data)? data : data?.data || [];\r\n      setAreas(list);\r\n      if (list[0]) {\r\n        setSelected(list[0].id);\r\n        setPreview(list[0].image_url||\"\");\r\n      }\r\n    })();\r\n  },[]);\r\n\r\n  const onChangeArea = (id) => {\r\n    setSelected(id);\r\n    const a = areas.find(x=>x.id === Number(id));\r\n    setPreview(a?.image_url || \"\");\r\n    setUrl(a?.image_url || \"\");\r\n  };\r\n\r\n  const onSave = async () => {\r\n    if (!selected) return;\r\n    await updateAreaMap(selected, url.trim());\r\n    const updated = areas.map(a => a.id===Number(selected) ? { ...a, image_url:url.trim() } : a);\r\n    setAreas(updated);\r\n    setPreview(url.trim());\r\n    alert(\"המפה עודכנה\");\r\n  };\r\n\r\n  return (\r\n    <section className=\"panel\" dir=\"rtl\">\r\n      <h3 style={{marginTop:0}}>מפות הקמפוס</h3>\r\n      <div className=\"form-row\" style={{marginBottom:12}}>\r\n        <select className=\"input\" value={selected} onChange={e=>onChangeArea(e.target.value)}>\r\n          {areas.map(a => <option key={a.id} value={a.id}>{a.name}</option>)}\r\n        </select>\r\n        <input className=\"input\" placeholder=\"קישור לתמונה (image URL)\" value={url} onChange={e=>setUrl(e.target.value)} />\r\n        <button className=\"btn-small\" onClick={onSave}>שמור מפה</button>\r\n      </div>\r\n\r\n      {preview ? (\r\n        <div style={{border:\"1px solid var(--border)\",borderRadius:12,overflow:\"hidden\",boxShadow:\"var(--shadow)\"}}>\r\n          <img src={preview} alt=\"map\" style={{width:\"100%\",display:\"block\",maxHeight:520,objectFit:\"contain\",background:\"#0a1224\"}} />\r\n        </div>\r\n      ) : <div style={{opacity:.8}}>אין מפה לאזור זה</div>}\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}