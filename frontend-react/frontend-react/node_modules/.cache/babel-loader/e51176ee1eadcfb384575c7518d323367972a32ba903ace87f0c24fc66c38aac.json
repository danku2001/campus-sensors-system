{"ast":null,"code":"const API = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\nexport async function getSensors({\n  areaId,\n  floorId\n}) {\n  const qs = new URLSearchParams();\n  if (areaId) qs.set('areaId', areaId);\n  if (floorId) qs.set('floorId', floorId);\n  const r = await fetch(`${API}/api/sensors?${qs.toString()}`);\n  if (!r.ok) throw new Error('failed to load sensors');\n  return r.json();\n}\nexport async function getSensorValues(sensorId, limit = 5) {\n  const r = await fetch(`${API}/api/sensors/${sensorId}/values?limit=${limit}`);\n  if (!r.ok) throw new Error('failed to load sensor values');\n  return r.json();\n}\nexport async function createSensor(payload) {\n  const r = await fetch(`${API}/api/sensors`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  if (!r.ok) throw new Error('failed to create sensor');\n  return r.json();\n}\nexport async function updateSensor(id, payload) {\n  const r = await fetch(`${API}/api/sensors/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  if (!r.ok) throw new Error('failed to update sensor');\n  return r.json();\n}\nexport async function deleteSensor(id) {\n  const r = await fetch(`${API}/api/sensors/${id}`, {\n    method: 'DELETE'\n  });\n  if (!r.ok) throw new Error('failed to delete sensor');\n  return r.json();\n}\nexport async function setSensorActive(id, is_active) {\n  const r = await fetch(`${API}/api/sensors/${id}/active`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      is_active\n    })\n  });\n  if (!r.ok) throw new Error('failed to toggle sensor');\n  return r.json();\n}\nexport async function updateSensorPosition(id, x, y) {\n  const r = await fetch(`${API}/api/sensors/${id}/position`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      x,\n      y\n    })\n  });\n  if (!r.ok) throw new Error('failed to move sensor');\n  return r.json();\n}","map":{"version":3,"names":["API","process","env","REACT_APP_API_BASE","getSensors","areaId","floorId","qs","URLSearchParams","set","r","fetch","toString","ok","Error","json","getSensorValues","sensorId","limit","createSensor","payload","method","headers","body","JSON","stringify","updateSensor","id","deleteSensor","setSensorActive","is_active","updateSensorPosition","x","y"],"sources":["C:/Users/DAN/Desktop/fullProject/frontend-react/frontend-react/src/api/sensors.js"],"sourcesContent":["const API = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\r\n\r\nexport async function getSensors({ areaId, floorId }) {\r\n  const qs = new URLSearchParams();\r\n  if (areaId) qs.set('areaId', areaId);\r\n  if (floorId) qs.set('floorId', floorId);\r\n  const r = await fetch(`${API}/api/sensors?${qs.toString()}`);\r\n  if (!r.ok) throw new Error('failed to load sensors');\r\n  return r.json();\r\n}\r\nexport async function getSensorValues(sensorId, limit = 5) {\r\n  const r = await fetch(`${API}/api/sensors/${sensorId}/values?limit=${limit}`);\r\n  if (!r.ok) throw new Error('failed to load sensor values');\r\n  return r.json();\r\n}\r\nexport async function createSensor(payload) {\r\n  const r = await fetch(`${API}/api/sensors`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });\r\n  if (!r.ok) throw new Error('failed to create sensor');\r\n  return r.json();\r\n}\r\nexport async function updateSensor(id, payload) {\r\n  const r = await fetch(`${API}/api/sensors/${id}`, { method:'PUT', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });\r\n  if (!r.ok) throw new Error('failed to update sensor');\r\n  return r.json();\r\n}\r\nexport async function deleteSensor(id) {\r\n  const r = await fetch(`${API}/api/sensors/${id}`, { method:'DELETE' });\r\n  if (!r.ok) throw new Error('failed to delete sensor');\r\n  return r.json();\r\n}\r\nexport async function setSensorActive(id, is_active) {\r\n  const r = await fetch(`${API}/api/sensors/${id}/active`, { method:'PATCH', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ is_active }) });\r\n  if (!r.ok) throw new Error('failed to toggle sensor');\r\n  return r.json();\r\n}\r\nexport async function updateSensorPosition(id, x, y) {\r\n  const r = await fetch(`${API}/api/sensors/${id}/position`, { method:'PATCH', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ x, y }) });\r\n  if (!r.ok) throw new Error('failed to move sensor');\r\n  return r.json();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}